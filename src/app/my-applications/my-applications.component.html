<div class="container-fluid dashboard-list">
    <div class="container">
      <div class="d-flex mb-5 justify-content-between">
        <div class="d-flex align-items-center gap-3">
          <h4>Applications</h4>
          <input
            type="search"
            class="form-control"
            placeholder="🔍 Search by title"
            [(ngModel)]="search"
            id=""
          />
        </div>
        <!-- <div>
          <button (click)="delete()" class="btn btn-danger">
            <i class="bi bi-trash"></i> Delete
          </button>
          <button
            (click)="showAddUser = true; initUser()"
            class="btn btn-primary"
          >
            <i class="bi bi-plus"></i> Add
          </button>
        </div> -->
      </div>
  
      <table class="table table-striped">
        <thead>
          <tr>
      
            <th scope="col">Job</th>
            <th scope="col">Date Applied</th>
            <th scope="col">Status</th>
            <th scope="col"></th>
          </tr>
        </thead>
  
        <tbody>
          <tr *ngFor="let item of applications">
          
            <td>{{ item.Career?.Title }}</td>
            <td>{{ item.Created_date | date : "mediumDate" }}</td>
            <td>{{ item.Status }}</td>
  
            <td>
              <div class="d-flex">
                <button (click)="edit(item)" class="btn btn-primary p-2">
                  View
                </button>
                <!-- <button class="btn btn-light p-2" (click)="deleteOne(item)">
                  <i class="bi bi-trash delete"></i>
                </button> -->
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- <app-add-careers *ngIf="showAddUser" (doneEvent)="doneEvent($event)"></app-add-careers>
          <app-update-career *ngIf="showUpdateUser && careersItem" [careersItem]="careersItem" (doneEvent)="doneEvent($event)"></app-update-career> -->
    </div>
  </div>

  
  <div class="_overlay" *ngIf="showUpdateUser && application">
    <div class="_modal card p-5 w-50">
      <h5 class="d-flex justify-content-between align-items-center mb-5">
        <span>Update applicant</span>
        <a (click)="showUpdateUser = false"><i class="bi bi-x-lg pointer"></i></a>
      </h5>


      <div class="card">
        <div class="card-header">
          <b>Aplicant Details</b>
        </div>
        <div class="card-body">
          <div class="row" *ngIf="application.User">
            <div class="col-md-6">
              <div class="form-group">
                <label for="">Your name</label>
                <input disabled="true"
                  type="text"
                  
                  [(ngModel)]="application.User.Name"
                  class="form-control"
                />
              </div>
            </div>
            <div class="col-md-6">
              <!--Surname-->
              <div class="form-group">
                <label for="">Surname</label>
                <input
                  type="text"
                  
                  [(ngModel)]="application.User.Surname"
                  class="form-control"
                />
              </div>
            </div>
        
            <div class="col-md-6">
              <!--Phone Number-->
              <div class="form-group">
                <label for="">Phone Number</label>
                <input
                  type="text"
                  [(ngModel)]="application.User.PhoneNumber"
                  class="form-control"
                  
                />
              </div>
            </div>
        
            <div class="col-md-6">
              <!--Email-->
              <div class="form-group">
                <label for="">Your email</label>
                <input
                  type="email"
                  
                  [(ngModel)]="application.User.Email"
                  class="form-control"
                />
              </div>
            </div>
        
            <div class="col-md-12">
              <!--Identity Number-->
              <div class="form-group">
                <label for="">Identity Number</label>
                <input
                  type="email"
                  [(ngModel)]="application.User.AddressUrlHome"
                  class="form-control"
                  
                />
              </div>
            </div>
        
            <div class="col-md-12 mb-2">
              <div class="form-group">
                <label for="">Your CV</label>
                <app-uplaod
                  fileName="Your CV.pdf"
                  (imageChangedEvent)="saveFile($event)"
                  [file]="application.User.AddressLineWork || ''"
                ></app-uplaod>
              </div>
            </div>
            <div class="col-md-12 mb-2">
              <div class="form-group">
                <label for="">Your Id</label>
                <app-uplaod
                  fileName="Your Id.pdf"
                  (imageChangedEvent)="saveFileId($event)"
                  [file]="application.User.AddressLineHome || ''"
                ></app-uplaod>
              </div>
            </div>
         
          </div>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-header">
          <b>Postion Details</b>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="">Status</label>
                <select disabled="" [(ngModel)]="application.Status" class="form-control">
                  <option [value]="item" *ngFor="let item of ['Submited','Accepted','Declined']">
                      {{item}}
                    </option>
                  </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="">Date applied</label>
                <input [(ngModel)]="application.Created_date" type="text" disabled="true" class="form-control">
                 
              </div>
            </div>
            <div class="col-md-6 mt-3" *ngIf="application.Career">
              <div class="form-group">
                <label for="">Job Title</label>
                <input disabled="" [(ngModel)]="application.Career.Title" class="form-control">
                
              </div>
            </div>
            <div class="col-md-6 mt-3"  *ngIf="application.Career">
              <div class="form-group">
                <label for="">Career type</label>
                <input [(ngModel)]="application.Career.Career_type" type="text" disabled="true" class="form-control">
                 
              </div>
            </div>

            <div class="col-md-12 mt-3">
              <select (change)="update()" disabled="" [(ngModel)]="application.Status" class="btn btn-primary w-100 p-2">
                <option [value]="item" *ngFor="let item of ['Submited','Accepted','Declined']">
                    {{item}}
                  </option>
                </select>
            </div>
           </div>
        </div>
      </div>
    
     

    </div>
  </div>
  